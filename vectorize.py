

import os
import sys
import numpy as np
import scipy as sp
from array import array
from PIL import Image

sys.path.append("..\\")
import pathes


path_out_test = "C:\\Temp\\kaggle\\NDSB\\data\\test_ann1\\"
path_out = "C:\\Temp\\kaggle\\NDSB\\data\\train_ann1\\"


# from initial run:
# Max rows 428 Max cols 424


MAX_ROWS = 48
MAX_COLS = 48

SCALE = 0.112149


means = [ 0.0000000000000000,  66.6618209388185647,  73.5072850738396681,  253.7849090189873493,
            253.7756460970464047,  253.7093881856540065,  253.6305709388185790,  253.5737078059071621,
            253.5443367616033754,  253.5325356012658347,  253.5703784282700326,  253.6321861814346050,
            253.5961563818565310,  253.5868275316455822,  253.5698839662447313,  253.5033953059071621,
            253.5133834388185790,  253.4568829113923982,  253.4427083333333428,  253.3554193037974755,
            253.3341574367088640,  253.3928006329113884,  253.3965915084388314,  253.3757252109704723,  253.3682753164557084,
            253.3115440400843852,  253.3029733649788966,  253.2884032172995887,  253.2857001582278542,  253.2694488396624592,
            253.2767339135021132,  253.2704047995780456,  253.2397151898734080,  253.3053467827004113,  253.3093354430379804,
            253.2567246835442916,  253.2749868143459935,  253.3426621835442916,  253.3026766877637215,  253.2240901898734080,
            253.3792853375527443,  253.3818565400843852,  253.3270371835442916,  253.3422666139240391,  253.3151700949367182,
            253.3336629746835342,  253.3766152426160261,  253.3028744725738477,  253.3055775316455822,  253.4658491561181393,
            253.4985166139240391,  253.7413963607594951,  253.7286062763712948,  253.6830168776371295,  253.6232199367088640,
            253.5711036392405049,  253.5670160864978868,  253.5775975738396539,  253.5886735232067508,  253.6446466244725855,
            253.6017273206751099,  253.5350079113923982,  253.4836497890295277,  253.4447521097046376,  253.4519712552742590,
            253.4167655590717345,  253.3871637658227769,  253.2646360759493689,  253.3258504746835342,  253.4008109177215147,  253.3799116561181393,  253.3282238924050773,  253.3160271624472557,  253.3129614978902850,  253.2787117616033754,  253.2239912974683591,  253.2336168248945114,  253.2037513185653950,  253.2045754219409162,  253.1882911392405049,  253.1421083860759609,  253.1914227320675082,  253.2496044303797476,  253.1893459915611686,  253.2463080168776344,  253.3091376582278542,  253.1996308016877606,  253.1592827004219544,  253.3075553797468444,  253.3518591772152035,  253.2397811181434690,  253.2521756329113884,  253.2927215189873493,  253.2931170886076018,  253.2763053797468444,  253.2379680907172883,  253.2904799578058999,  253.3835377109704723,  253.4151503164557084,  253.7014767932489576,  253.6510087025316409,  253.6594475210970359,  253.6050566983122394,  253.5413699894514821,  253.5493473101265920,  253.5817510548523330,  253.5035271624472557,  253.5662249472573819,  253.5692906118143526,  253.4855617088607573,  253.3992616033755212,  253.3891086497890228,  253.3032700421941001,  253.2689873417721458,  253.2912381329113884,  253.2482199367088640,  253.2230683016877606,  253.3005999472573819,  253.2111352848101262,  253.2213541666666572,  253.2391877637130904,  253.2196400316455822,  253.2355946729957736,  253.0491495253164658,  253.0388976793248901,  253.0535667194092753,  252.9662776898734080,  253.0678401898734080,  253.0691257911392427,  253.0257120253164658,  253.0210970464135016,  253.0176028481012622,  253.0630603902953624,  253.0697850738396539,  253.0845530063291164,  253.0332937763712948,  253.0948707805907247,  253.1995319092827117,  253.1856210443037867,  253.1696993670886116,  253.0819488396624592,  253.0462486814346050,  253.1295160864978868,  253.2187170358649837,  253.2295292721518933,  253.3413765822784853,  253.3990967827004113,  253.5214926160337541,  253.5172732067510424,  253.6163633966244788,  253.4677610759493689,  253.3865044831223656,  253.3750000000000000,  253.3720991561181393,  253.3736814345991490,  253.3434203586497802,  253.2766020569620196,  253.2545490506329031,  253.1705893987341653,  253.1443829113923982,  253.1348233122362785,  253.1261207805907247,  253.0052742616033754,  253.0752900843881719,  253.1049248417721458,  253.1402623945147639,  252.9768591772152035,  252.9774525316455822,  252.9700026371307899,  252.9532238924050773,  252.9823641877637215,  252.8227518459915473,  252.8516284282700326,  252.7865572257383917,  252.8294765295358673,  252.8172138713080130,  252.8039622890295277,  252.7212223101265920,  252.7208267405063395,  252.8174116561181393,  252.7202004219409162,  252.8650118670886116,  252.9342365506329031,  252.8633966244725855,  252.8072257383966246,  252.8583860759493689,  252.8449037447257410,  252.8097969409282655,  252.7718222573839739,  252.8128626054852361,  252.9215453586497802,  253.0394910337552687,  252.9740572257383917,  253.2115638185653950,  253.2835245253164658,  253.5525777953586442,  253.5191851265822720,  253.5152294303797476,  253.3311577004219544,  253.2469013713080130,  253.2269910337552687,  253.1475145042194015,  253.1109243143459935,  253.1151766877637215,  253.0614451476793363,  252.8617813818565310,  252.8471453059071621,  252.8260482594936605,  252.7484506856540065,  252.7326608649788966,  252.7465717299577932,  252.7935785864978868,  252.8232133438818607,  252.7262328586497802,  252.6533161919831230,  252.6767866561181393,  252.6609638713080130,  252.6009691455696213,  252.6511735232067508,  252.5060983649788966,  252.4980880801687704,  252.5150316455696213,  252.4533887130801588,  252.3593420358649837,  252.3319488396624592,  252.3725606540084527,  252.3949762658227769,  252.3902953586497802,  252.4052940400843852,  252.3012921940928379,  252.4362803270042264,  252.4387196729957736,  252.4031184071729967,  252.5059335443037867,  252.4636075949367182,  252.4247758438818607,  252.4188422995780456,  252.5238330696202524,  252.5362605485232166,  252.6796545358649837,  252.8163238396624592,  253.2154206223628705,  253.2546809071729967,  253.4680577531645440,  253.4572125527426181,  253.4239847046413558,  253.2978309599156148,  253.0772349683544178,  252.9707608122362785,  252.8958662974683591,  252.8528810654008510,  252.8026437236287052,  252.6397349683544178,  252.6197257383966246,  252.5839926160337541,  252.5224815400843852,  252.4858583860759609,  252.4670358649788966,  252.5280854430379804,  252.5084058544303787,  252.4309401371307899,  252.3446400316455822,  252.3265427215189902,  252.3067312763712948,  252.2030920358649837,  252.1461300105485179,  252.0510614451476670,  251.9444883966244788,  251.9977584388185790,  251.9863198839662459,  251.8492879746835342,  251.8239055907172883,  251.6819620253164658,  251.7247824367088640,  251.6948839662447313,  251.6986748417721458,  251.7202663502109772,  251.7399129746835342,  251.8452993143459935,  251.8372890295358673,  251.7990176687763721,  251.8568697257383917,  251.8545622362869096,  251.9148536392405049,  251.8871967299577932,  252.0415677742616083,  252.1526569092827117,  252.3130933544303787,  252.6231540084388314,  253.1250988924050773,  253.2804918248945114,  253.4731671940928379,  253.4531909282700326,  253.4204575421941001,  253.1873681434599064,  253.0900909810126507,  252.7489781118143526,  252.6356474156118281,  252.5116363396624592,  252.3977122890295277,  252.3299050632911360,  252.3008306962025245,  252.2141350210970359,  252.1248022151898738,  252.1519976265822720,  252.0381065400843852,  252.0844870780590838,  252.0213937236287052,  251.8849881329113884,  251.9096123417721458,  251.7603507383966246,  251.6223628691982981,  251.5606210443037867,  251.4862539556962133,  251.3284546413502198,  251.1282304852320806,  251.0477979957805985,  250.8694290611814210,  250.7419567510548575,  250.6976529535864984,  250.5878823839662459,  250.5660271624472557,  250.5550830696202524,  250.7028283227847965,  250.8486616561181393,  250.9255010548523330,  251.0364912974683591,  251.0202729430379804,  251.0358320147679194,  251.0832014767932492,  251.1816653481012622,  251.1428995253164658,  251.1500857067510424,  251.3226199894514821,  251.6501516350211034,  252.0191191983122394,  252.5529074367088640,  253.1342958860759609,  253.2376384493670969,  253.4347639767932492,  253.4333794831223656,  253.3791534810126507,  253.1792589662447313,  252.9585640822784853,  252.6862803270042264,  252.4818037974683591,  252.3225210970464047,  252.0274261603375408,  251.9025250527426181,  251.7153876582278542,  251.5532700421941001,  251.5412710970464047,  251.6281315928270033,  251.5015493143459935,  251.3994264240506311,  251.3863066983122394,  251.2246176160337541,  251.0289425105485179,  250.8507054324894625,  250.6721057489451425,  250.4583003691982981,  250.3039293248945114,  250.0159876054852361,  249.9354232594936605,  249.8165875527426181,  249.6725672468354560,  249.5907832278481067,  249.4948246308017019,  249.2767339135021132,  249.2156513713080130,  249.2833926687763721,  249.2228375527426181,  249.4861550632911360,  249.4875725210970359,  249.5982001582278542,  249.7912051687763721,  249.9509493670886116,  250.0564345991561197,  250.1371637658227769,  250.2350013185653950,  250.3337618670886116,  250.7046743143459935,  251.1687434071729967,  251.7692510548523330,  252.5698839662447313,  253.1739517405063395,  253.2684269514767834,  253.4523997890295277,  253.4796281645569707,  253.3906909282700326,  253.2025975738396539,  252.9183808016877606,  252.6319554324894625,  252.4407304852320806,  252.1498219936708836,  251.7045424578058999,  251.3345200421941001,  250.8989649261603461,  250.6566126054852361,  250.7257383966244788,  250.5433148734177280,  250.5015163502109772,  250.5309203586497802,  250.3723299050632818,  250.1222969409282655,  249.7462420886076018,  249.5204377637130904,  249.1373615506329031,  248.9429061181434690,  248.7345727848101262,  248.4871439873417671,  248.3021162974683591,  248.1497890295358673,  247.9355551160337541,  247.8851199894514821,  247.6281315928270033,  247.4784414556962133,  247.4242813818565310,  247.4788040611814210,  247.5784546413502198,  247.5977716244725855,  247.5646426687763721,  247.7207608122362785,  248.0591376582278542,  248.2822059599156148,  248.5339860232067508,  248.8487605485232166,  249.0227782172995887,  249.7005537974683591,  250.2232001582278542,  250.6019251054852361,  251.5511273734177280,  252.3972837552742590,  253.1090123945147639,  253.2289688818565310,  253.4989781118143526,  253.4864847046413558,  253.3692972046413558,  253.0902228375527443,  252.8421017932489576,  252.5149657172995887,  252.2579113924050773,  251.8761537447257410,  251.3222244198312296,  250.7461761603375408,  250.1628098628692101,  249.8457608122362785,  249.7294963080168770,  249.5370516877637215,  249.3657041139240391,  249.3458267405063395,  249.1457344409282655,  249.0295358649788966,  248.4910996835442916,  248.0335245253164658,  247.8398602320675082,  247.5537315400843852,  247.1326147151898738,  246.7984243143459935,  246.4198312236287052,  246.2927544831223656,  245.9854628164557084,  245.8066653481012622,  245.4952202004219544,  245.3248945147679194,  245.2615374472573819,  245.3217958860759609,  245.5206685126582329,  245.4625857067510424,  245.5970134493670969,  245.6771492616033754,  246.1639636075949227,  246.5119659810126507,  246.8647151898734080,  247.4821993670886116,  248.3157304852320806,  248.9611352848101262,  249.5889702004219544,  250.1986089135021132,  251.3169171940928379,  252.3517602848101262,  253.0036919831223656,  253.1730946729957736,  253.4397745253164658,  253.4417194092827117,  253.3541337025316409,  253.0115044831223656,  252.6701608649788966,  252.3461893459915473,  251.8641218354430293,  251.3736814345991490,  250.7898536392405049,  249.9932753164557084,  249.2550764767932492,  248.7764042721518933,  248.3481012658227769,  248.1187697784810098,  248.1013976793248901,  247.8443433544303787,  247.4153810654008510,  247.2015756856540065,  246.7595595991561197,  246.1984770569620196,  245.7069158755274145,  245.3140163502109772,  244.7030590717299674,  244.3311247362869096,  243.9213805379746702,  243.5149986814346050,  243.0070543248945114,  242.7889965717299674,  242.5736748417721458,  242.4502241561181393,  242.3540018459915473,  242.5539952531645440,  242.9193367616033754,  243.0949367088607573,  243.4273800105485179,  243.6184401371307899,  243.9835508966244788,  244.5091969936708836,  245.3334981540084527,  246.3289491033755212,  247.1748088080168770,  248.0191191983122394,  248.8971189345991490,  249.8933610232067508,  251.2861286919831230,  252.2075751582278542,  252.9207542194092753,  253.0431830168776344,  253.3879219409282655,  253.3638581223628705,  253.2500659282700326,  252.9259955168776344,  252.4798259493670969,  252.0794435654008510,  251.6127373417721458,  250.9088871308017019,  250.1733254219409162,  249.3918776371307899,  248.5479298523206637,  247.7455168776371295,  247.1128691983122394,  246.6286919831223656,  246.2749538502109772,  245.9948575949367182,  245.4836827531645440,  244.9624538502109772,  244.5301292194092753,  243.8328718354430293,  243.3352452531645440,  242.6883900316455822,  242.0789161392405049,  241.4283030063291164,  240.5488528481012622,  240.0524129746835342,  239.2765031645569707,  238.8242022679324918,  238.5215255801687704,  238.5041534810126507,  238.6029799578058999,  238.8671875000000000,  239.6848299050632818,  240.5232726793248901,  240.9590585443037867,  241.2596914556962133,  241.7944686181434690,  242.6106276371307899,  243.8662974683544178,  245.1735891350211034,  246.3539688818565310,  247.5937500000000000,  248.6984770569620196,  249.6287249472573819,  251.1959058544303787,  252.1806764240506311,  252.8886801160337541,  253.0464464662447313,  253.3432885021097150,  253.3384757383966246,  253.2614715189873493,  252.8866363396624592,  252.2619330168776344,  251.8567378691982981,  251.1828190928270033,  250.4694752109704723,  249.5067906118143526,  248.7341112869198412,  247.7921940928270033,  246.8064016350211034,  245.8038633966244788,  244.8024459388185790,  244.2311774789029641,  243.6934005801687704,  242.9897481540084527,  242.3065005274261523,  241.9720464135021132,  241.1855880801687704,  240.3927676687763721,  239.6157041139240391,  238.5892668776371295,  237.1567774261603461,  235.8849551687763721,  235.2778217299577932,  234.3895042194092753,  233.7493407172995887,  233.4802215189873493,  233.3095991561181393,  233.5922336497890228,  234.3042589662447313,  235.4474881329113884,  236.6760944092827117,  237.5928599683544178,  238.2693829113923982,  239.1639636075949227,  240.7112671413502198,  242.4267207278481067,  244.2261010021097150,  245.8573971518987378,  247.0230748945147639,  248.4449828586497802,  249.6834454113923982,  251.1178797468354560,  252.1797863924050773,  252.9546083860759609,  253.1921809071729967,  253.3828784282700326,  253.3759889240506311,  253.3069290611814210,  252.8672204641350163,  252.1847969409282655,  251.6225606540084527,  250.7870516877637215,  249.9383570675105375,  248.8441455696202524,  247.8947125527426181,  246.9631131329113884,  245.8408821202531556,  244.6180116033755212,  243.1072652953586442,  241.9205234704641327,  241.0725870253164658,  240.0785205696202524,  239.5404799578058999,  238.5810588080168770,  237.3500131856540065,  236.2499670358649837,  234.6620846518987378,  233.1531513713080130,  231.5534018987341653,  230.0413040611814210,  229.3664952531645440,  228.6617550105485179,  228.0881460970464047,  227.5837289029535953,  227.4120187236287052,  228.0595991561181393,  228.9706948839662459,  230.4825290084388314,  231.7429786392405049,  233.1991693037974755,  234.6815994198312296,  236.9203916139240391,  239.2174314345991490,  241.2793710443037867,  243.4485759493670969,  245.3387724156118281,  246.9328850210970359,  248.3993604957805985,  249.6558873945147639,  251.0257120253164658,  252.1881592827004113,  252.9515097573839739,  253.1954443565400936,  253.3526832805907247,  253.3102584388185790,  253.2303863396624592,  252.7570213607594951,  252.0877834915611686,  251.3959322257383917,  250.6298457278481067,  249.5167787447257410,  248.2504285337552687,  247.1653810654008510,  246.1462289029535953,  244.7597903481012622,  243.2272877109704723,  241.3005010548523330,  239.6791930379746702,  238.2443301687763721,  236.5810258438818607,  235.7572191455696213,  234.3714728375527443,  232.5291402953586442,  230.8702861286919870,  228.9040084388185790,  227.1463277953586442,  226.0238001054852361,  224.7865901898734080,  224.0615440400843852,  223.5904865506329031,  223.1627109704641327,  222.4599815400843852,  222.3799446202531556,  222.8619791666666572,  223.5217563291139129,  225.2563620780590838,  226.6306368670886116,  228.9286656118143526,  231.5749604430379804,  234.9021294831223656,  237.9940664556962133,  240.4949235232067508,  242.9996703586497802,  245.2610100210970359,  247.0585113396624592,  248.4466969936708836,  249.4618604957805985,  251.0698180379746702,  252.2017405063291164,  252.9632449894514821,  253.2162117616033754,  253.3150052742616083,  253.2628889767932492,  253.1783359704641327,  252.7170358649788966,  252.0528415084388314,  251.2176951476793363,  250.4604100738396539,  249.2096518987341653,  247.7916337025316409,  246.6125065928270033,  245.2996439873417671,  243.8568037974683591,  241.7484836497890228,  239.3880537974683591,  237.1258570675105375,  235.3785271624472557,  232.9172600210970359,  231.3898338607594951,  229.2314082278481067,  226.7842497362869096,  224.7226068037974755,  223.2727122890295277,  221.6792919303797476,  220.7523404535864984,  219.6968288502109772,  219.2146624472573819,  218.3783953059071621,  217.8711431962025245,  217.4951872362869096,  217.4023272679324918,  217.6675896624472557,  218.3630010548523330,  219.7703718354430293,  221.5314477848101262,  224.7012130801687704,  228.6514702004219544,  233.5298984704641327,  237.2950949367088640,  240.3342233649788966,  243.1404272151898738,  245.3337289029535953,  246.9162051687763721,  248.4250065928270033,  249.5349419831223656,  250.9956157700422068,  252.3276964662447313,  253.0430841244725855,  253.1714464662447313,  253.3803731540084527,  253.3407172995780456,  253.2191126054852361,  252.7095859704641327,  251.9751450421941001,  251.1534810126582329,  250.2483847573839739,  248.7736023206751099,  247.2617681962025245,  245.7605485232067508,  244.3363330696202524,  242.5369527953586442,  240.2247494725738477,  237.5689280063291164,  234.8464530590717345,  231.5868275316455822,  227.9981540084388314,  225.4201938291139129,  222.2868868670886116,  219.7249472573839739,  217.8510021097046376,  216.1757318037974755,  215.3342892932489576,  214.7015427215189902,  213.5219541139240391,  213.1517339135021132,  212.2992154535864984,  211.9379285337552687,  211.5984638713080130,  211.7035205696202524,  211.7283425632911360,  212.1048918776371295,  213.9605089662447313,  216.3216969936708836,  220.6491627109704723,  225.9176555907172883,  232.1345266350211034,  236.7165084388185790,  240.2636141877637215,  243.1189345991561197,  245.3370582805907247,  246.9034810126582329,  248.2328586497890228,  249.6700949367088640,  251.0790150316455822,  252.2507911392405049,  253.0081091772152035,  253.2654601793248901,  253.4200290084388314,  253.3842958860759609,  253.3042919303797476,  252.7100145042194015,  252.0492813818565310,  251.0524459388185790,  249.9933412447257410,  248.6052215189873493,  246.8697257383966246,  245.2794369725738477,  243.6962025316455822,  241.4574433016877606,  239.0381724683544178,  236.2091904008438803,  232.8080828059071621,  229.2121571729957736,  224.3142470991561197,  220.8975474683544178,  217.4627834915611686,  214.6409546413502198,  212.6076938291139129,  211.1423391350211034,  210.1451740506329031,  209.3883175105485179,  208.5159546413502198,  208.1966969936708836,  207.5091640295358673,  207.1438225210970359,  207.1995978375527443,  206.9416205168776344,  207.1674907700422068,  207.8932950949367182,  210.3578256856540065,  213.7297270569620196,  218.5697850738396539,  224.5013844936708836,  231.3789227320675082,  236.4161722046413558,  240.4391482067510424,  243.2418578586497802,  245.3500461497890228,  246.6957739978902850,  248.2271888185653950,  249.6866758966244788,  251.1727650316455822,  252.1972244198312296,  253.0425237341772231,  253.1516020569620196,  253.3731210443037867,  253.3311577004219544,  253.3332344409282655,  252.7382977320675082,  252.0870912447257410,  251.0412381329113884,  249.8240044831223656,  248.3352452531645440,  246.5408755274261523,  244.8938554852320806,  242.8401239451476670,  240.2976331751054886,  237.5129549050632818,  234.1954773206751099,  230.3979760021097150,  225.6103968881856474,  219.9305116033755212,  215.8178731540084527,  211.6380867616033754,  208.6771162974683591,  206.7220134493670969,  204.9561906645569707,  203.5167457805907247,  202.9448180379746702,  202.1277030590717345,  201.8160930907172883,  201.4043380801687704,  201.3307621308017019,  201.1515690928270033,  201.1090783227847965,  202.3211036392405049,  203.8432885021097150,  207.0872560654008510,  211.0852782172995887,  216.4946598101265920,  222.9614978902953624,  230.6546017932489576,  236.2169040084388314,  240.6351529535864984,  243.2288699894514821,  245.3153349156118281,  246.6966640295358673,  248.4022613396624592,  249.9337750527426181,  251.2223101265822720,  252.2109375000000000,  252.9079970991561197,  253.0374802215189902,  253.3591772151898738,  253.3679786392405049,  253.2694818037974755,  252.7505274261603461,  252.0561379219409162,  251.0854100738396539,  249.7248813291139129,  248.0833992616033754,  246.2188818565400936,  244.3718024789029641,  241.9195015822784853,  239.2669106012658347,  235.9562895569620196,  232.2245846518987378,  227.7115308544303787,  222.0094936708860871,  215.7912710970464047,  211.2149261603375408,  206.9616297468354560,  203.4384229957805985,  200.3949433016877606,  198.0516547995780456,  196.3345200421941001,  195.0587420886076018,  194.2278151371307899,  193.8921413502109772,  194.0109440928270033,  194.1938950421941001,  194.8526503164557084,  195.7135087025316409,  197.9248747362869096,  200.7228375527426181,  204.7497362869198412,  209.1295490506329031,  215.0786853902953624,  221.8230155590717345,  229.7559335443037867,  236.0246242088607573,  240.4942642405063395,  243.3258834388185790,  245.4951542721518933,  246.8059401371307899,  248.5498747362869096,  249.9100408755274145,  251.3187631856540065,  252.3127307489451425,  252.9278744725738477,  253.0142075421941001,  253.3990308544303787,  253.3687038502109772,  253.2151569092827117,  252.7579113924050773,  252.0883109177215147,  251.0238660337552687,  249.4529601793248901,  247.8913502109704723,  246.1138910864978868,  244.0990572257383917,  241.3887130801687704,  238.6271756329113884,  234.7219475210970359,  230.3489583333333428,  225.2732726793248901,  218.9303467827004113,  212.3128955696202524,  207.8471782700422068,  202.9605419303797476,  198.3673193565400936,  194.0606210443037867,  191.0185917721518933,  188.6163963607594951,  186.5693235759493689,  185.3125659282700326,  184.7153876582278542,  185.0041534810126507,  185.8831751054852361,  188.2987869198312296,  190.5551489978902850,  194.2940400843881719,  198.0047468354430293,  203.0904535864978868,  208.0714003164557084,  214.0749934071729967,  221.5797402426160261,  229.5193499472573819,  235.9829245780590838,  240.6329443565400936,  243.5680050105485179,  245.5356012658227769,  247.0475013185653950,  248.6857199367088640,  250.0951015295358673,  251.3793183016877606,  252.2630867616033754,  252.9142273206751099,  252.9602782172995887,  253.3841969936708836,  253.3022481540084527,  253.1835443037974755,  252.6564148206751099,  252.0065268987341653,  250.9962420886076018,  249.5029667721518933,  247.9269844409282655,  246.0769712552742590,  244.0059335443037867,  241.4080300632911360,  238.0590058016877606,  233.7335508966244788,  228.6815664556962133,  222.9931764240506311,  216.6270767405063395,  209.9788370253164658,  205.2759098101265920,  199.9254021624472557,  194.5919040084388314,  189.4217761075949227,  185.2708003691982981,  181.1055511603375408,  178.0445675105485179,  176.0250197784810098,  175.7164095464135016,  176.5138449367088640,  178.8447389240506311,  182.6648866033755212,  186.2464398734177280,  191.2394514767932492,  195.4770899261603461,  201.8491890822784853,  207.0292721518987378,  213.9344013713080130,  221.4401371308017019,  229.6800830696202524,  236.0981012658227769,  240.7065532700422068,  243.5346782700422068,  245.6023866033755212,  247.2020701476793363,  248.8635614451476670,  250.1556566455696213,  251.3600672468354560,  252.3283887130801588,  252.8510350738396539,  252.8871308016877606,  253.3348496835442916,  253.2939082278481067,  253.1774459388185790,  252.6641943565400936,  251.9444224683544178,  250.9399723101265920,  249.2868868670886116,  247.7025316455696213,  245.8871308016877606,  244.0163502109704723,  241.3815598628692101,  237.8000395569620196,  233.1204179852320806,  227.0556434599156148,  220.6513383438818607,  214.3667589662447313,  207.8551555907172883,  203.0923984704641327,  197.7191126054852361,  191.6761603375527443,  185.1770503691982981,  179.3906909282700326,  174.0390295358649837,  169.5482594936708836,  166.8878889767932492,  166.7043446729957736,  168.7621967299577932,  172.4700356012658347,  177.6405590717299674,  182.6050237341772231,  188.6772151898734080,  194.0677412974683591,  200.5993539029535953,  206.3056764240506311,  213.8471123417721458,  221.9776503164557084,  230.3980089662447313,  236.5981342299577932,  240.9253362341772231,  243.5968815928270033,  245.5579179852320806,  247.1762921940928379,  248.7522745253164658,  250.3654404008438803,  251.3711102320675082,  252.2771624472573819,  252.8277953586497802,  252.9621571729957736,  253.2758768459915473,  253.2737341772152035,  253.0951674578058999,  252.7021360759493689,  251.9251384493670969,  250.8382120253164658,  249.2198707805907247,  247.7406711497890228,  246.1422732067510424,  243.9370714662447313,  241.3457608122362785,  237.7425830696202524,  232.3221584915611686,  225.5388976793248901,  218.8810654008438803,  212.8115440400843852,  206.2300896624472557,  201.7194752109704723,  195.9892536919831230,  189.6080234704641327,  182.6424380274261523,  176.0389636075949227,  169.0181632383966246,  163.7569554324894625,  160.9917589662447313,  161.0864649261603461,  163.3754614978902850,  168.2596584915611686,  174.3537051687763721,  180.4911656118143526,  187.2653612869198412,  193.3805379746835342,  200.4624868143459935,  206.6969936708860871,  214.9819026898734080,  222.8831751054852361,  231.4815071202531556,  237.2993473101265920,  241.4570147679324918,  243.9134691455696213,  245.7161458333333428,  247.2806236814346050,  248.8532107067510424,  250.4831223628692101,  251.5332278481012622,  252.3010944092827117,  252.8848562763712948,  252.8910535337552687,  253.3038304324894625,  253.2261998945147639,  253.0856737869198412,  252.6906315928270033,  251.9858583860759609,  250.5734111286919870,  249.0931236814346050,  247.6436577004219544,  246.0345134493670969,  244.0574894514767834,  241.3603968881856474,  237.4243143459915473,  231.7049050632911360,  224.5465783227847965,  217.9450817510548575,  211.5305577531645440,  205.1424050632911360,  200.6040348101265920,  194.9179852320675082,  188.2511537447257410,  180.9122494725738477,  173.7167721518987378,  166.3005010548523330,  161.2770965189873493,  158.9855617088607573,  159.4685192510548575,  162.4124142932489576,  167.4589596518987378,  173.7515822784810098,  180.0258438818565310,  187.1663040611814210,  193.6860825421941001,  201.6595793776371295,  208.2604825949367182,  216.3659348628692101,  224.4154469936708836,  232.6285601265822720,  238.1820938818565310,  241.8654404008438803,  244.2182885021097150,  246.2341442510548575,  247.6209454113923982,  249.0921017932489576,  250.5315796413502198,  251.5066917194092753,  252.3482331223628705,  252.8169501582278542,  252.8719013713080130,  253.3268723628692101,  253.2101463607594951,  253.0582146624472557,  252.6876648206751099,  251.9772877109704723,  250.5818169831223656,  249.0476331751054886,  247.4096123417721458,  245.7427478902953624,  243.8374208860759609,  241.1975210970464047,  236.8361352848101262,  231.0250527426160261,  223.8991627109704723,  216.8791534810126507,  210.9463014240506311,  204.4613660337552687,  199.9008768459915473,  194.5129549050632818,  187.9306434599156148,  180.8136207805907247,  173.8765163502109772,  166.9937038502109772,  162.2301226265822720,  160.1293512658227769,  161.2664820675105375,  164.2040479957805985,  169.2646031118143526,  175.3390361286919870,  181.5632911392405049,  188.6650514240506311,  195.0340849156118281,  202.8914161392405049,  209.4957476265822720,  217.6172534282700326,  225.5161524261603461,  233.5987605485232166,  238.8397943037974755,  242.2985891350211034,  244.4065466772152035,  246.2975672468354560,  247.8972507911392427,  249.3708794831223656,  250.5646756329113884,  251.4701344936708836,  252.3377834915611686,  252.8584190400843852,  252.9369725738396539,  253.3301028481012622,  253.2436708860759609,  253.0776635021097150,  252.6415479957805985,  251.8449037447257410,  250.6332410337552687,  249.0925303270042264,  247.4100079113923982,  245.5415677742616083,  243.7329245780590838,  240.6610627637130904,  236.3768130274261523,  230.5373483649788966,  223.3014899789029641,  216.4166996308017019,  210.5747626582278542,  204.5357660864978868,  200.3157634493670969,  194.7911392405063395,  188.5975738396624592,  182.0591046940928379,  175.9119198312236279,  170.2138713080168770,  166.1323839662447313,  164.9261273734177280,  166.1601727320675082,  169.3669237869198412,  173.7865901898734080,  178.9435654008438803,  184.5001977848101262,  191.0557093881856474,  197.2663172468354560,  204.7547468354430293,  211.5571268459915473,  219.4030195147679194,  227.0860693565400936,  234.4404338080168770,  239.2292655590717345,  242.6025514240506311,  244.7593288502109772,  246.6132318037974755,  248.0460838607594951,  249.3612539556962133,  250.4427742616033754,  251.4646624472573819,  252.2806236814346050,  252.8242022679324918,  252.9683873945147639,  253.3302347046413558,  253.2496373945147639,  253.1463607594936605,  252.6058808016877606,  251.7289029535864984,  250.6201872362869096,  248.9209849683544178,  247.2538897679324918,  245.3995912447257410,  243.5339200949367182,  240.3237737341772231,  236.2176621835442916,  230.1654140295358673,  222.8517932489451425,  216.3025118670886116,  210.7120582805907247,  204.7653612869198412,  200.6459322257383917,  195.6372626582278542,  190.1953784282700326,  184.8058082805907247,  180.2170029008438803,  175.6644251054852361,  172.7607133438818607,  172.2888647151898738,  173.5367220464135016,  175.8660996835442916,  179.5014504219409162,  183.9650580168776344,  188.4441587552742590,  194.1491297468354560,  200.2420886075949227,  207.8357397151898738,  214.2523074894514821,  221.6813027426160261,  228.9702333860759609,  235.2453190928270033,  239.6446136603375408,  242.8741758966244788,  244.9877043776371295,  246.8362012130801588,  248.1735561708860871,  249.4046347573839739,  250.4776173523206637,  251.4114912974683591,  252.2922600210970359,  252.8442114978902850,  252.9290611814346050,  253.2327927215189902,  253.1829179852320806,  253.1849287974683591,  252.5808280590717345,  251.7934137658227769,  250.4554654535864984,  248.8277953586497802,  247.1567774261603461,  245.3223233122362785,  243.4184467299577932,  240.2430116033755212,  235.9897481540084527,  229.8394646624472557,  222.9355221518987378,  216.6277689873417671,  211.1620846518987378,  205.6493275316455822,  201.9752439345991490,  197.5127241561181393,  192.9773206751054886,  189.2210574894514821,  186.0542919303797476,  183.2171677215189902,  181.5670820147679194,  181.0772020042194015,  182.1827861286919870,  183.8295094936708836,  185.9666402953586442,  189.4355221518987378,  193.6925764767932492,  198.7949301160337541,  203.9231606012658347,  211.2989187763712948,  217.4738594409282655,  224.3442444620253298,  230.6461959388185790,  236.0366890822784853,  239.7629219409282655,  242.6667655590717345,  244.8579245780590838,  246.7220793776371295,  248.1004417194092753,  249.1965981012658347,  250.2509889240506311,  251.3267075421941001,  252.2383306962025245,  252.9355880801687704,  252.9606737869198412,  253.2903810654008510,  253.2097837552742590,  253.1163304324894625,  252.6146492616033754,  251.7845793776371295,  250.3395965189873493,  248.6347903481012622,  246.9213475738396539,  245.2429456751054886,  243.4979891877637215,  240.3494527953586442,  236.2359902426160261,  230.2072455168776344,  223.5580498417721458,  217.2448905590717345,  211.9461366033755212,  206.8238066983122394,  203.4682885021097150,  199.4988132911392427,  196.2059269514767834,  194.0012856012658347,  192.2332542194092753,  190.6140888713080130,  189.4157766350211034,  189.4231935654008510,  190.2056962025316409,  191.2552083333333428,  192.6457344409282655,  195.3375857067510424,  198.5714992088607573,  202.8462552742616083,  207.8231803797468444,  214.7827004219409162,  220.3462882383966246,  226.6022217827004113,  232.2230683016877606,  236.6120450949367182,  239.6334717827004113,  242.4131395042194015,  244.7380340189873493,  246.5815203059071621,  247.8058412447257410,  249.0533030063291164,  250.1306698312236279,  251.2970068565400936,  252.3558478375527443,  252.9235561708860871,  253.0105814873417671,  253.2600540611814210,  253.2393196202531556,  253.1033425632911360,  252.6220991561181393,  251.6807753164557084,  250.2442312763712948,  248.4211168248945114,  247.0178006329113884,  245.1862473628692101,  243.3739451476793363,  240.3596387130801588,  236.2374736286919870,  230.6127703059071621,  224.3986352848101262,  218.6263844936708836,  213.3457937763712948,  208.8550566983122394,  206.0043842299577932,  203.3083794831223656,  201.2151898734177280,  199.9833531118143526,  198.9403678797468444,  198.1732924578058999,  197.4397745253164658,  197.5166798523206637,  198.1773140822784853,  199.0941455696202524,  200.2882054324894625,  202.4059203586497802,  204.5117352320675082,  208.1047929852320806,  212.7420226793248901,  218.7137724156118281,  223.5291402953586442,  228.8472112341772231,  233.7938093354430293,  237.3010284810126507,  239.7021690400843852,  242.2613726265822720,  244.2673720991561197,  246.0555775316455822,  247.2437697784810098,  248.5261075949367182,  249.8608583860759609,  251.1242747890295277,  252.3080498417721458,  252.9838146097046376,  253.0373813291139129,  253.3532766350211034,  253.2741956751054886,  253.0830036919831230,  252.4838805379746702,  251.5561708860759609,  250.1979496308017019,  248.4186774789029641,  247.0388976793248901,  245.0723562763712948,  243.1945543248945114,  240.3340915084388314,  236.5331619198312296,  231.2948641877637215,  225.7777558016877606,  220.1218684071729967,  215.5565664556962133,  211.3091376582278542,  209.2460772679324918,  207.5321729957805985,  206.6170886075949227,  205.5149327531645440,  204.9419501582278542,  204.3256856540084527,  204.1959717827004113,  204.1731935654008510,  204.6742484177215147,  205.7698114451476670,  207.2502966772152035,  208.7585047468354560,  210.7729430379746702,  213.7742945675105375,  217.6016943565400936,  222.7276173523206637,  226.3865374472573819,  230.7453850210970359,  234.4557950949367182,  237.7910403481012622,  240.2314411919831230,  242.5545556434599064,  244.3256526898734080,  245.8499472573839739,  247.1855880801687704,  248.1607331223628705,  249.4888910864978868,  251.0168776371307899,  252.2871505801687704,  253.0198444092827117,  253.0977386603375408,  253.2808873945147639,  253.2067510548523330,  253.0892009493670969,  252.4893196202531556,  251.6237143987341653,  250.1340651371307899,  248.5179654535864984,  246.9341706223628705,  245.2061577004219544,  243.2388910864978868,  240.5540282172995887,  237.2043117088607573,  232.8414754746835342,  227.7661853902953624,  223.2119923523206637,  219.5132515822784853,  216.1290545886076018,  214.8420688291139129,  213.6617550105485179,  212.7846123417721458,  212.1195279535864984,  211.5523800105485179,  211.4823971518987378,  211.4431368670886116,  211.3900646097046376,  212.1513713080168770,  212.9725738396624592,  214.3362341772152035,  216.1706882911392427,  218.3570015822784853,  220.9391482067510424,  223.9004153481012622,  227.6407568565400936,  230.3399261603375408,  233.2340123945147639,  235.7021690400843852,  238.0933544303797476,  240.8437500000000000,  242.9607726793248901,  244.5797732067510424,  246.0967167721518933,  247.1245055379746702,  248.1732924578058999,  249.5504021624472557,  250.9103375527426181,  252.1860166139240391,  252.9518723628692101,  253.0685324367088640,  253.2979957805907247,  253.2021031118143526,  253.0244923523206637,  252.4935390295358673,  251.5909480485232166,  250.1513383438818607,  248.4922204641350163,  246.9009098101265920,  245.3010944092827117,  243.1794567510548575,  240.7674050632911360,  237.7946664029535953,  234.2532964135021132,  230.1101991033755212,  226.5244264240506311,  223.6839728375527443,  220.5758175105485179,  219.2625593354430293,  218.0389306434599064,  217.1747428797468444,  216.3026766877637215,  216.0481935654008510,  216.0782898206751099,  216.1821927742616083,  216.5123615506329031,  217.4486748417721458,  218.3538040611814210,  219.8137196729957736,  221.5637526371307899,  223.6714464662447313,  225.8897349683544178,  228.2609770569620196,  231.2584388185653950,  232.8861089135021132,  234.9642009493670969,  236.9088871308017019,  239.2244198312236279,  241.3765163502109772,  243.1743802742616083,  244.8325751582278542,  246.2556368670886116,  247.3514636075949227,  248.3608913502109772,  249.5170424578058999,  250.8010284810126507,  252.0920688291139129,  252.9313686708860871,  253.0135482594936605,  253.3208069620253298,  253.2559005801687704,  252.9902426160337541,  252.5502703059071621,  251.5531381856540065,  250.1307027953586442,  248.4891218354430293,  246.8796149789029641,  245.2557357594936605,  243.4085574894514821,  241.0607529008438803,  238.8776700949367182,  236.2900184599156148,  233.3172138713080130,  230.8882515822784853,  228.5196136603375408,  225.7335179324894625,  224.3220266350211034,  223.1459322257383917,  222.1031777426160261,  221.5738066983122394,  221.2357924578058999,  221.5595002637130904,  221.8669567510548575,  222.4539161392405049,  223.6220661919831230,  224.6824564873417671,  225.9600145042194015,  227.6771492616033754,  229.5608517932489576,  231.4231606012658347,  233.0731803797468444,  234.6691719409282655,  235.8043578586497802,  237.2979628164557084,  239.1003428270042264,  240.9763647151898738,  242.5431500527426181,  244.2514174578058999,  245.6323510021097150,  246.8266416139240391,  247.8005010548523330,  248.7329245780590838,  249.5518196202531556,  250.8674841772152035,  252.1336366033755212,  252.9270174050632818,  252.9926160337552687,  253.3375197784810098,  253.3041600738396539,  253.0796413502109772,  252.4061511075949227,  251.4156118143459935,  250.2211563818565310,  248.5578190928270033,  246.8395305907172883,  245.4440928270042264,  244.0798720991561197,  242.0094277426160261,  239.9161722046413558,  238.2977320675105375,  236.5637856012658347,  234.9036458333333428,  233.3078850210970359,  230.8024129746835342,  229.3294435654008510,  228.0687631856540065,  227.1763251582278542,  226.8931962025316409,  226.6747099156118281,  227.0678401898734080,  227.6038370253164658,  228.4867154535864984,  229.5017470991561197,  230.6316917194092753,  231.7992484177215147,  233.2935785864978868,  234.7002571202531556,  236.2255735759493689,  237.1857529008438803,  238.2873483649788966,  238.7905458860759609,  239.6488989978902850,  241.0494791666666572,  242.6493275316455822,  243.9804522679324918,  245.3579905063291164,  246.5504680907172883,  247.4418842299577932,  248.4024920886076018,  249.3619132383966246,  250.0594013713080130,  251.1506790611814210,  252.2519448839662459,  252.9763647151898738,  252.9715519514767834,  253.2782832278481067,  253.2239253691982981,  253.0736748417721458,  252.3543644514767834,  251.4679258966244788,  250.0751911919831230,  248.5029338080168770,  247.1841376582278542,  246.0796743143459935,  244.8146097046413558,  243.4550698839662459,  241.8740770042194015,  240.6756329113923982,  239.6292194092827117,  238.7822389240506311,  237.6624472573839739,  235.9384559599156148,  234.7937434071729967,  233.9428072257383917,  233.2332212552742590,  233.1854891877637215,  233.0035271624472557,  233.4684203586497802,  234.0265361286919870,  234.7473958333333428,  235.6480748945147639,  236.5564345991561197,  237.5421281645569707,  238.4321268459915473,  239.0791468881856474,  239.9946927742616083,  240.6184731012658347,  241.3370582805907247,  241.8385087025316409,  242.5962223101265920,  243.5189873417721458,  244.5361946202531556,  245.4065796413502198,  246.5111089135021132,  247.4921875000000000,  248.4111286919831230,  249.2566587552742590,  249.9921215717299674,  250.6353177742616083,  251.2796677215189902,  252.3356737869198412,  253.0446004746835342,  253.0901239451476670,  253.3046215717299674,  253.2916337025316409,  253.0787842827004113,  252.3419699367088640,  251.3973496835442916,  249.9653546940928379,  248.6296809071729967,  247.6610957278481067,  246.7646360759493689,  245.9190071202531556,  244.8302017405063395,  243.7693499472573819,  242.8588475738396539,  242.1427017405063395,  241.6002768987341653,  241.0704113924050773,  239.7668776371307899,  239.2435390295358673,  238.6739187763712948,  238.1721387130801588,  238.2798984704641327,  238.2244527953586442,  238.5884098101265920,  238.9856935654008510,  239.5611484704641327,  240.1803467827004113,  240.8413436181434690,  241.1933346518987378,  241.7830959915611686,  242.4531909282700326,  242.8099947257383917,  243.2643393987341653,  243.9221716772152035,  244.4030854430379804,  244.9328850210970359,  245.5539952531645440,  246.0466112869198412,  246.8653744725738477,  247.6820609177215147,  248.5381395042194015,  249.2546149789029641,  250.1176489978902850,  250.7111023206751099,  250.9634427742616083,  251.6680841244725855,  252.4884295886076018,  252.9977254746835342,  253.0248879219409162,  253.2952267932489576,  253.2355617088607573,  253.0119659810126507,  252.3752966772152035,  251.3910535337552687,  250.2042128164557084,  249.1054522679324918,  248.2905788502109772,  247.4868473101265920,  246.8390031645569707,  246.0447323312236279,  245.5069554324894625,  244.9380274261603461,  244.2917325949367182,  243.8328059071729967,  243.4652558016877606,  242.9659810126582329,  242.6546677215189902,  242.2714926160337541,  242.1059137658227769,  242.0967827004219544,  242.0211629746835342,  242.3608254219409162,  242.6978837025316409,  243.0725870253164658,  243.2734375000000000,  243.7643723628692101,  244.0393262130801588,  244.5526107594936605,  244.8697587025316409,  245.2343750000000000,  245.5856078586497802,  246.2374736286919870,  246.5813554852320806,  247.0270635548523330,  247.4608056434599064,  247.7925566983122394,  248.1457014767932492,  248.6412842827004113,  249.3290809599156148,  249.9510152953586442,  250.6462289029535953,  251.2217167721518933,  251.4201608649788966,  252.0377439345991490,  252.6538106540084527,  252.9262592299577932,  253.0736418776371295,  253.2685588080168770,  253.2324960443037867,  253.0480946729957736,  252.4368077531645440,  251.5623351793248901,  250.3958333333333428,  249.7099485759493689,  249.1522283755274145,  248.4900448312236279,  248.1019580696202524,  247.3267405063291164,  247.0429522679324918,  246.6200883438818607,  246.3219277426160261,  245.9825619725738477,  245.5797072784810098,  245.3276635021097150,  245.4702663502109772,  245.2355287447257410,  245.1288897679324918,  245.0081421413502198,  245.0179654535864984,  245.2804918248945114,  245.4649591244725855,  245.6387460443037867,  245.6977518459915473,  246.1441191983122394,  246.4548391350211034,  246.6711168248945114,  246.9948246308017019,  247.3357397151898738,  247.7170358649788966,  248.1514042721518933,  248.3108847573839739,  248.6995648734177280,  248.9249406645569707,  249.0992550105485179,  249.4757054324894625,  249.5858715717299674,  249.8731869725738477,  250.4824960443037867,  251.0685654008438803,  251.5275250527426181,  251.9589926160337541,  252.3566060126582329,  252.8024789029535953,  253.0417655590717345,  253.1023536392405049,  253.3551555907172883,  253.3415414029535953,  253.1197587025316409,  252.5727518459915473,  251.7212882383966246,  250.9410601265822720,  250.1565466772152035,  250.0559071729957736,  249.6960706751054886,  249.2695806962025245,  248.9707937763712948,  248.6325817510548575,  248.3753626054852361,  248.0783227848101262,  247.8524525316455822,  247.7190796413502198,  247.5173720991561197,  247.4648931962025245,  247.2487803270042264,  247.1638317510548575,  247.2024657172995887,  247.3094343354430293,  247.3099617616033754,  247.3352782172995887,  247.5942444620253298,  247.7802610759493689,  248.0114055907172883,  248.2248154008438803,  248.5804984177215147,  248.8694949894514821,  249.1109902426160261,  249.2770635548523330,  249.6563159282700326,  249.8381790611814210,  250.1426358122362785,  250.2224090189873493,  250.3468156645569707,  250.3803072257383917,  250.5377109704641327,  250.6114847046413558,  250.9876714135021132,  251.4547402426160261,  251.8396294831223656,  252.1431302742616083,  252.5136471518987378,  252.8497165084388314,  253.0648074894514821,  253.1940928270042264,  253.3852848101265920,  253.3402558016877606,  253.1379878691982981,  252.5735100210970359,  251.7922929852320806,  251.1203190928270033,  250.7326938291139129,  250.6003757911392427,  250.4553006329113884,  250.3262790084388314,  249.9981869725738477,  249.9330498417721458,  249.6417128164557084,  249.5577861286919870,  249.3830762130801588,  249.2423852848101262,  249.1097376054852361,  249.0828718354430293,  248.8981408227847965,  248.9031843354430293,  248.8305973101265920,  248.8326740506329031,  248.9543117088607573,  249.0463146097046376,  249.1940268987341653,  249.3781645569620196,  249.6383834388185790,  249.7093222573839739,  249.9287315400843852,  250.2100145042194015,  250.3971189345991490,  250.5494791666666572,  250.6521624472573819,  250.7991165611814210,  250.8864055907172883,  251.0241297468354560,  251.1154733649788966,  251.1484045358649837,  251.2860627637130904,  251.3896031118143526,  251.4115901898734080,  251.6343618143459935,  251.9239847046413558,  252.2277821729957736,  252.5956619198312296,  252.8795820147679194,  253.1981144514767834,  253.2705036919831230,  253.3819554324894625,  253.3636603375527443,  253.1754021624472557,  252.6399657172995887,  252.0515229430379804,  251.5523800105485179,  251.3430247890295277,  251.2854694092827117,  251.1847639767932492,  251.1943565400843852,  251.0848496835442916,  250.9261273734177280,  250.8184665084388314,  250.8026437236287052,  250.6916205168776344,  250.4496308016877606,  250.4798589135021132,  250.3861418776371295,  250.2194092827004113,  250.2823048523206637,  250.3150382383966246,  250.2802940400843852,  250.3738792194092753,  250.4535864978902850,  250.6908623417721458,  250.7440994198312296,  250.8042260021097150,  250.9831553270042264,  251.1397679324894625,  251.1630406118143526,  251.3266416139240391,  251.5074498945147639,  251.5918710443037867,  251.6435917721518933,  251.6082871835442916,  251.6806104957805985,  251.8352782172995887,  251.8674841772152035,  251.8866693037974755,  251.9945938818565310,  251.8851859177215147,  251.9604100738396539,  252.0292721518987378,  252.2904799578058999,  252.6665018459915473,  252.9164029535864984,  253.1519976265822720,  253.1998285864978868,  253.3325751582278542,  253.3310588080168770,  253.2208597046413558,  252.7720859704641327,  252.2758438818565310,  252.0352716244725855,  252.0064939345991490,  251.8641547995780456,  251.8618143459915473,  251.7842497362869096,  251.8066983122362785,  251.8024459388185790,  251.5849815400843852,  251.6858517932489576,  251.5589398734177280,  251.5232067510548575,  251.4403349156118281,  251.4225672468354560,  251.4195345464135016,  251.3252571202531556,  251.2915018459915473,  251.4161062763712948,  251.3614187763712948,  251.5138779008438803,  251.5439411919831230,  251.6342299578058999,  251.7277821729957736,  251.7692180907172883,  251.7777558016877606,  251.9226002109704723,  251.9852650316455822,  252.0896954113923982,  252.1087157172995887,  252.1282304852320806,  252.2426489978902850,  252.2594936708860871,  252.3699235232067508,  252.3426621835442916,  252.3629680907172883,  252.4727716244725855,  252.3983715717299674,  252.2945345464135016,  252.3870319092827117,  252.6330102848101262,  252.8580893987341653,  253.1063422995780456,  253.1940268987341653,  253.2162776898734080,  253.3693960970464047,  253.3406513713080130,  253.2764702004219544,  252.8731869725738477,  252.6586893459915473,  252.6903349156118281,  252.5489517405063395,  252.4518064345991490,  252.4666732594936605,  252.4375329641350163,  252.3867681962025245,  252.2898866033755212,  252.1844343354430293,  252.2224749472573819,  252.1966969936708836,  252.1754021624472557,  252.1525909810126507,  252.1713475738396539,  252.1184071729957736,  252.0474024261603461,  252.0305247890295277,  252.0938488924050773,  252.0903217299577932,  252.1762592299577932,  252.1312631856540065,  252.0854100738396539,  252.1829509493670969,  252.2074762658227769,  252.2956553270042264,  252.3128296413502198,  252.4184796940928379,  252.4001845991561197,  252.4531909282700326,  252.4532238924050773,  252.6369330168776344,  252.6458992616033754,  252.6910271624472557,  252.7251780063291164,  252.6710838607594951,  252.7311115506329031,  252.6462618670886116,  252.7462091244725855,  252.7870516877637215,  252.7996439873417671,  253.0027030590717345,  253.2021360759493689,  253.1982463080168770,  253.2707344409282655,  253.3985363924050773,  253.3462223101265920,  253.2916666666666572,  253.1258900316455822,  253.0860363924050773,  253.0390954641350163,  252.8777360232067508,  252.8080498417721458,  252.7839530590717345,  252.7511207805907247,  252.7475936181434690,  252.6642932489451425,  252.6306698312236279,  252.6574367088607573,  252.6617220464135016,  252.6130010548523330,  252.5492484177215147,  252.5688950421941001,  252.4672336497890228,  252.4387526371307899,  252.4562565928270033,  252.4902426160337541,  252.5837289029535953,  252.5719277426160261,  252.4759691455696213,  252.4648602320675082,  252.5470068565400936,  252.5161524261603461,  252.5792457805907247,  252.5506329113923982,  252.6495253164557084,  252.6029469936708836,  252.7364847046413558,  252.7393855485232166,  252.7427808544303787,  252.8782964135021132,  252.8446070675105375,  252.8499142932489576,  252.9363792194092753,  252.9553665611814210,  252.8354760021097150,  252.9675632911392427,  253.0739385548523330,  253.0568960970464047,  253.0966178797468444,  253.1358122362869096,  253.2692840189873493,  253.3519580696202524,  253.4809467299577932,  253.5027360232067508,  253.3669567510548575,  253.3016547995780456,  253.2625922995780456,  253.2155854430379804,  253.1399986814346050,  253.0935192510548575,  253.1222310126582329,  253.1020899261603461,  253.0657634493670969,  253.1146822257383917,  253.1305709388185790,  253.0675435126582329,  253.0063291139240391,  252.9501582278481067,  252.9050962552742590,  252.8647151898734080,  252.8306962025316409,  252.7733715717299674,  252.8593090717299674,  252.8310917721518933,  252.8303006329113884,  252.7695477320675082,  252.7511537447257410,  252.7889965717299674,  252.8651766877637215,  252.8711431962025245,  252.8708465189873493,  252.8609902426160261,  252.8147415611814210,  252.8415743670886116,  252.8788238396624592,  252.8945477320675082,  252.9715189873417671,  252.9342035864978868,  252.9111616561181393,  252.9805181962025245,  253.0012526371307899,  252.9835508966244788,  253.0356342299577932,  253.1110891350211034,  253.1779404008438803,  253.1140559071729967,  253.1304061181434690,  253.2251450421941001,  253.2421875000000000,  253.3480683016877606,  253.4965387658227769,  253.5265361286919870,  253.4437961497890228,  253.3685390295358673,  253.3159612341772231,  253.3066653481012622,  253.2493407172995887,  253.1913568037974755,  253.2412315400843852,  253.2141679852320806,  253.2313093354430293,  253.2799973628692101,  253.2482529008438803,  253.2269251054852361,  253.1874340717299674,  253.1036392405063395,  253.0831355485232166,  252.9416864451476670,  252.9702333860759609,  253.0156579641350163,  253.0019448839662459,  253.0048127637130904,  252.9872758438818607,  252.9404338080168770,  252.9578059071729967,  253.0147679324894625,  253.0290414029535953,  253.0481276371307899,  252.9565532700422068,  252.8580893987341653,  252.9067114978902850,  252.9779140295358673,  252.9967365506329031,  252.9645305907172883,  253.0407436708860871,  252.9668380801687704,  253.0330959915611686,  253.1374274789029641,  253.1387130801687704,  253.1231540084388314,  253.1631065400843852,  253.2175303270042264,  253.3372890295358673,  253.3599683544303787,  253.2587684599156148,  253.3715717299577932,  253.3796809071729967,  253.3711102320675082,  ]



VEC_LEN = 1 + 2 + MAX_ROWS * MAX_COLS

cls_id_map = None



def get_classes():
    res = {}

    with open(pathes.path_data + "classes.txt", "r") as fin:
        for line in fin:
            line = line.strip()
            tokens = line.split(" ")
            id = int(tokens[0])

            res[tokens[1]] = id
    return res



def vectorize_test(fname):

    fname_in = pathes.path_test + fname
    fname_out = path_out_test + fname + ".b2"

    img = Image.open(fname_in)

    rows = int(img.size[1] * SCALE)
    cols = int(img.size[0] * SCALE)

    rimg = img.resize((cols, rows))     # reversed order of dimentions
    a = np.asarray(rimg)

    vec = array('f', [1.] * VEC_LEN)    # float

    idx = 1
    for r in range(rows):
        for c in range(cols):
            vec[idx] = float(a[r,c]) / 255.
            idx += 1

    fout = open(fname_out, "wb+")
    vec.tofile(fout)
    fout.flush()
    fout.close()




def vectorize(id, folder, fname):

    if not os.path.exists(path_out + folder):
        os.mkdir(path_out + folder)

    fname_in = pathes.path_train + folder + "\\" + fname
    fname_out = path_out + folder + "\\" + fname + ".b"

    img = Image.open(fname_in)

    rows = MAX_ROWS    #int(img.size[1] * SCALE)
    cols = MAX_COLS    #int(img.size[0] * SCALE)

    rimg = img.resize((cols, rows))     # reversed orde of dimentions
    a = np.asarray(rimg).reshape((rows * cols,))

    cls = cls_id_map[folder]

    vec = array('f', [0.] * VEC_LEN)    # float

    vec[0] = cls
    vec[1] = rows - means[1]
    vec[2] = rows - means[2]

    for i in range(rows * cols):
        vec[3 + i] = (a[i] - means[3 + i]) / 255.

    fout = open(fname_out, "wb+")
    vec.tofile(fout)
    fout.flush()
    fout.close()





def process(fname):
    with open(fname, "r") as fin:
        for line in fin:
            line = line.strip()
            tokens = line.split(" ")
            path_parts = tokens[1].strip("\"").split("\\\\")

            id = int(tokens[0])
            folder = path_parts[0]
            file = path_parts[1]

            print "# processing: ", id, folder, file

            vectorize(id, folder, file)
            #break


def process_train():
    global cls_id_map
    cls_id_map = get_classes()
    files = [pathes.path_ids + f for f in os.listdir(pathes.path_ids)]
    for f in files:
        process(f)

    print "# Max rows", MAX_ROWS, "Max cols", MAX_COLS


def get_means():
    cnt = 0.
    means = np.array([0.] * VEC_LEN)
    for d in os.listdir(pathes.path_train):
        for f in os.listdir(pathes.path_train + d):
            fname_in = pathes.path_train + d + "\\" + f
            img = Image.open(fname_in)

            rows = MAX_ROWS   # int(img.size[1] * SCALE)
            cols = MAX_COLS   # int(img.size[0] * SCALE)

            rimg = img.resize((cols, rows))     # reversed orde of dimentions
            a = np.asarray(rimg).reshape((rows*cols,))

            means[1] += img.size[1]  # orig rows
            means[2] += img.size[0]  # orig cols
            means[3:] += a

            cnt += 1.

    return means / cnt





def process_test():
    files = [f for f in os.listdir(pathes.path_test)]

##    import matplotlib.image as Image
##    max_rows = 0
##    max_cols = 0

    for f in files:
        vectorize_test(f)
##        img = Image.imread(pathes.path_test + f)
##        if max_rows < img.shape[0]:
##            max_rows = img.shape[0]
##        if max_cols < img.shape[1]:
##            max_cols = img.shape[1]

    ##print "# Max rows", max_rows, "Max cols", max_cols



def main():
##    means = get_means()
##    print "means = [",
##    for v in means:
##        print "%.16f, " % v,
##    print "]"


    process_train ()
    #process_test()



if __name__ == '__main__':
    main()
